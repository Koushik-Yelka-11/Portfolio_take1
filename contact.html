<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contact Me</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet"/>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --yellow: #a19d9d;
      --black: #0f0f0f;
      --gray: #6b6b6b;
      --light-gray: #f0f0f0;
      --white: #ffffff;
    }

    html, body { height: 100%; }

    body {
      background: var(--white);
      font-family: 'DM Sans', sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 60px 24px;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image: radial-gradient(circle, #e0e0e0 1px, transparent 1px);
      background-size: 28px 28px;
      pointer-events: none;
      z-index: 0;
      opacity: 0.45;
    }

    .page-wrapper {
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 1060px;
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--yellow);
      color: var(--black);
      font-size: 0.72rem;
      font-weight: 500;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      padding: 6px 16px;
      border-radius: 50px;
      margin-bottom: 22px;
      animation: fadeUp 0.5s ease both;
    }
    .tag-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--black); }

    .layout {
      display: grid;
      grid-template-columns: 1fr 420px;
      gap: 0;
      background: var(--white);
      border-radius: 28px;
      border: 1.5px solid #e8e8e8;
      overflow: hidden;
      box-shadow: 0 20px 80px rgba(0,0,0,0.07);
      animation: fadeUp 0.6s ease 0.1s both;
    }

    .left-panel {
      padding: 56px 52px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    h1 {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(3rem, 5.5vw, 5rem);
      font-weight: 800;
      color: var(--black);
      line-height: 1.0;
      margin-bottom: 18px;
      letter-spacing: -0.02em;
    }
    h1 em { font-style: italic; color: var(--yellow); }

    .subtitle {
      color: var(--gray);
      font-size: 0.92rem;
      line-height: 1.75;
      margin-bottom: 42px;
      max-width: 360px;
      font-weight: 300;
    }

    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .form-group { margin-bottom: 18px; position: relative; }
    .form-group.full { grid-column: 1 / -1; }

    label {
      display: block;
      font-size: 0.72rem;
      font-weight: 500;
      color: var(--black);
      letter-spacing: 0.1em;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    input, textarea {
      width: 100%;
      background: var(--light-gray);
      border: 2px solid transparent;
      border-radius: 12px;
      padding: 13px 16px;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.93rem;
      color: var(--black);
      outline: none;
      transition: border-color 0.25s ease, background 0.25s ease, box-shadow 0.25s ease;
      resize: none;
    }
    input::placeholder, textarea::placeholder { color: #bbb; }
    input:focus, textarea:focus {
      border-color: var(--yellow);
      background: var(--white);
      box-shadow: 0 0 0 4px rgba(245,197,24,0.12);
    }
    textarea { height: 120px; }

    .submit-row {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-top: 4px;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: var(--black);
      color: var(--white);
      border: 2px solid var(--black);
      border-radius: 50px;
      padding: 14px 34px;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.9rem;
      font-weight: 500;
      letter-spacing: 0.04em;
      cursor: pointer;
      transition: all 0.22s ease;
      white-space: nowrap;
    }
    .btn:hover {
      background: var(--yellow);
      border-color: var(--yellow);
      color: var(--black);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(245,197,24,0.35);
    }
    .btn:hover .arrow { transform: translateX(4px); }
    .arrow { transition: transform 0.22s ease; font-size: 1.1rem; }

    #status { font-size: 0.85rem; font-weight: 500; min-height: 18px; }
    .status-success { color: #2a9d5c; }
    .status-error   { color: #e03c3c; }
    .status-sending { color: var(--gray); }

    /* RIGHT PANEL */
    .right-panel {
      position: relative;
      background: var(--white);
      display: flex;
      align-items: flex-end;
      justify-content: center;
      overflow: hidden;
      border-left: 1.5px solid #e8e8e8;
      min-height: 520px;
    }

    .blob {
      position: absolute;
      width: 420px;
      height: 490px;
      background: rgb(138, 138, 138);
      border-radius: 62% 38% 46% 54% / 60% 44% 56% 40%;
      bottom: -20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 0;
      animation: blobFloat 6s ease-in-out infinite;
    }

    @keyframes blobFloat {
      0%,100% { border-radius: 62% 38% 46% 54% / 60% 44% 56% 40%; transform: translateX(-50%) translateY(0); }
      50%      { border-radius: 44% 56% 60% 40% / 50% 60% 40% 52%; transform: translateX(-50%) translateY(-10px); }
    }

    #personCanvas {
      position: relative;
      z-index: 1;
      display: block;
      filter: drop-shadow(0 16px 36px rgba(0,0,0,0.18));
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(24px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 780px) {
      .layout { grid-template-columns: 1fr; }
      .right-panel {
        border-left: none;
        border-top: 1.5px solid #e8e8e8;
        min-height: 300px;
        padding: 24px 0 0;
      }
      .blob { width: 220px; height: 270px; }
      .left-panel { padding: 40px 28px; }
      .form-row { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

<div class="page-wrapper">
  <div class="tag"><span class="tag-dot"></span>Let's connect</div>

  <div class="layout">
    <!-- LEFT: Form -->
    <div class="left-panel">
      <h1>Get in <em>touch.</em></h1>
      <p class="subtitle">
        Feel free to connect and share your thoughts or just say hello.
        I'll get back to you as soon as possible.
      </p>

      <form id="contactForm" novalidate>
        <div class="form-row">
          <div class="form-group">
            <label for="name">Your Name</label>
            <input type="text" id="name" name="name" placeholder="full name" required />
          </div>
          <div class="form-group">
            <label for="email">Your Mail</label>
            <input type="email" id="email" name="email" placeholder="your mail id" required />
          </div>
        </div>
        <div class="form-group full">
          <label for="message">Your Message</label>
          <textarea id="message" name="message" placeholder="Hey, I'd love to connect about…" required></textarea>
        </div>
        <div class="submit-row">
          <button type="submit" class="btn">Send Message <span class="arrow">→</span></button>
          <span id="status"></span>
        </div>
      </form>
    </div>

    <!-- RIGHT: Image -->
    <div class="right-panel">
      <div class="accent-circle"></div>
      <div class="accent-dot"></div>
      <div class="blob"></div>
      <canvas id="personCanvas"></canvas>
    </div>
  </div>
</div>

<script>
/* ==========================================================
   IMAGE BACKGROUND REMOVAL — HSL Yellow Chroma-Key
   
   Since the photo has a solid yellow background, we detect
   and remove pixels by matching hue to the background color
   (auto-sampled from a corner pixel). This cleanly removes
   the yellow background while leaving the person, gown,
   skin, and all other colors intact.
   ========================================================== */
const canvas = document.getElementById('personCanvas');
const ctx = canvas.getContext('2d');

const IMAGE_SRC = '/assets/koushik2.png';

const img = new Image();
img.onload = function () {
  const W = img.naturalWidth;
  const H = img.naturalHeight;

  canvas.width = W;
  canvas.height = H;

  ctx.drawImage(img, 0, 0);

  // Scale to fit panel
  const targetW = 580;
  canvas.style.width = targetW + 'px';
  canvas.style.height = 'auto';
};

img.src = IMAGE_SRC;

/* ==========================================================
   CONTACT FORM
   ---------------------------------------------------------
   PRIMARY METHOD — EmailJS (free, no backend needed):
     a) Sign up at https://www.emailjs.com
     b) Add Email Service → connect Gmail
     c) Create Email Template:
          To email : koushikprogrammer11@gmail.com
          Subject  : Portfolio Contact from {{from_name}}
          Body     : Name: {{from_name}}
                     Email: {{from_email}}
                     Message: {{message}}
     d) Replace the three placeholders below.

   FALLBACK — if EmailJS not configured, opens mail client.
   ========================================================== */

const EMAILJS_PUBLIC_KEY  = 'YOUR_PUBLIC_KEY';
const EMAILJS_SERVICE_ID  = 'YOUR_SERVICE_ID';
const EMAILJS_TEMPLATE_ID = 'YOUR_TEMPLATE_ID';
const TO_EMAIL = 'koushikprogrammer11@gmail.com';

(function () {
  const s = document.createElement('script');
  s.src   = 'https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js';
  s.onload = () => {
    if (EMAILJS_PUBLIC_KEY !== 'YOUR_PUBLIC_KEY') {
      emailjs.init({ publicKey: EMAILJS_PUBLIC_KEY });
    }
  };
  document.head.appendChild(s);
})();

const form   = document.getElementById('contactForm');
const status = document.getElementById('status');

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  const name    = document.getElementById('name').value.trim();
  const email   = document.getElementById('email').value.trim();
  const message = document.getElementById('message').value.trim();

  if (!name || !email || !message) { setStatus('Please fill in all fields.', 'error'); return; }
  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) { setStatus('Please enter a valid email address.', 'error'); return; }

  const emailJsReady = typeof emailjs !== 'undefined'
    && EMAILJS_PUBLIC_KEY  !== 'YOUR_PUBLIC_KEY'
    && EMAILJS_SERVICE_ID  !== 'YOUR_SERVICE_ID'
    && EMAILJS_TEMPLATE_ID !== 'YOUR_TEMPLATE_ID';

  if (emailJsReady) {
    setStatus('Sending…', 'sending');
    try {
      await emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, {
        from_name: name, from_email: email, message
      });
      setStatus('✓ Message sent successfully!', 'success');
      form.reset();
    } catch (err) {
      console.error(err);
      setStatus('✗ Something went wrong. Please try again.', 'error');
    }
  } else {
    const subject = encodeURIComponent(`Portfolio Contact from ${name}`);
    const body    = encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}`);
    window.location.href = `mailto:${TO_EMAIL}?subject=${subject}&body=${body}`;
    setStatus('✓ Your mail app should open now!', 'success');
  }
});

function setStatus(msg, type) {
  status.textContent = msg;
  status.className   = `status-${type}`;
}
</script>

</body>
</html>
